(function(){"use strict";var t={6889:function(t,e,s){var r=s(9242),a=s(3396);function n(t,e){const s=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(s)}var o=s(89);const i={},u=(0,o.Z)(i,[["render",n]]);var c=u,l=s(2483);const m=t=>((0,a.dD)("data-v-776b38ae"),t=t(),(0,a.Cn)(),t),d={class:"wrap"},p={class:"wrap__inner"},f=m((()=>(0,a._)("p",{class:"text font-24 m-b-20"},"マトをクリックしてscoreを稼ごう！！",-1))),h={class:"player-name font-24 m-b-30"},g=m((()=>(0,a._)("p",{class:"player-name__text m-b-10"},"PlayerName",-1)));function _(t,e,s,n,o,i){const u=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",p,[f,(0,a._)("div",h,[g,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.name=t),class:"player-name__name"},null,512),[[r.nr,o.name]])]),(0,a.Wm)(u,{to:"/game",onClick:i.start,class:"button"},{default:(0,a.w5)((()=>[(0,a.Uk)("スタート")])),_:1},8,["onClick"])])])}var v={data(){return{name:""}},created(){this.$store.commit("reset")},methods:{start(){this.name?this.$store.commit("playerName",this.name):alert("PlyerNameを入力してください")}}};const w=(0,o.Z)(v,[["render",_],["__scopeId","data-v-776b38ae"]]);var y=w,b=s(7139);const k={class:"wrap"},x={class:"status font-18"},T={class:"status__inner"},$={class:"status__text"},N={class:"status__text"},O={class:"status__text"},P={class:"filed"};function j(t,e,s,r,n,o){return(0,a.wg)(),(0,a.iD)("div",k,[(0,a._)("div",x,[(0,a._)("div",T,[(0,a._)("p",$,"Player："+(0,b.zw)(o.showName),1),(0,a._)("p",N,"Score："+(0,b.zw)(o.showScore),1),(0,a._)("p",O,"Time："+(0,b.zw)(n.time),1)])]),(0,a._)("div",P,[((0,a.wg)(),(0,a.j4)((0,a.LL)(n.target)))])])}s(7658);function S(t,e,s,r,n,o){return(0,a.wg)(),(0,a.iD)("div",{class:"target",onClick:e[0]||(e[0]=(...t)=>o.hitTarget&&o.hitTarget(...t))})}var D={mounted(){this.randTarget()},methods:{hitTarget(){this.$store.commit("updateScore"),this.randTarget()},randTarget(){let t=document.getElementsByClassName("target"),e=Math.floor(100*Math.random()),s=Math.floor(100*Math.random());t[0].style.position="absolute",t[0].style.top=e+"%",t[0].style.left=s+"%"}}};const z=(0,o.Z)(D,[["render",S],["__scopeId","data-v-030cf91b"]]);var C=z,Z={components:{Target1:C},data(){return{time:10,target:"Target1"}},mounted(){if(!this.$store.getters.name)return void this.$router.push("/");let t=setInterval((()=>{this.timeLeft(this.time),this.time<=0&&(clearInterval(t),this.$store.dispatch("statusPost"),this.$store.dispatch("resultList"),setTimeout((()=>{this.$store.commit("ranking"),this.$router.push("/result")}),300))}),1e3)},computed:{showName(){return this.$store.state.name},showScore(){return this.$store.state.score}},methods:{timeLeft(t){t>0&&(t--,this.time=t)}}};const L=(0,o.Z)(Z,[["render",j],["__scopeId","data-v-2f6f5268"]]);var V=L;const I=t=>((0,a.dD)("data-v-895cc3c4"),t=t(),(0,a.Cn)(),t),M={class:"wrap"},W={class:"result font-24"},U=I((()=>(0,a._)("p",{class:"reslut__text"},"あなたのScore",-1))),E={class:"reslut__text"},G={class:"reslut__text"},B={class:"result-list__text"},F={class:"result-list__text"};function H(t,e,s,n,o,i){const u=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",M,[(0,a._)("div",W,[U,(0,a._)("p",E,"Player："+(0,b.zw)(i.showName),1),(0,a._)("p",G,"Score："+(0,b.zw)(i.showScore),1)]),(0,a.Wm)(r.W3,{appear:"",name:"fade",tag:"ul",class:"result-list is-list m-b-30"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.results,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{key:t.name,class:"result-list__item font-18",style:(0,b.j5)({"transition-delay":.3*e+.3+"s"})},[(0,a._)("p",null,(0,b.zw)(e+1)+"位",1),(0,a._)("p",B,"Player："+(0,b.zw)(t.fields.name.stringValue),1),(0,a._)("p",F,"Score："+(0,b.zw)(t.fields.score.integerValue),1)],4)))),128))])),_:1}),(0,a.Wm)(u,{to:"/",class:"button"},{default:(0,a.w5)((()=>[(0,a.Uk)("もう一度")])),_:1})])}var K={data(){return{results:[]}},beforeRouteLeave(t,e,s){this.$store.commit("reset"),s()},created(){this.results=this.$store.getters.results},computed:{showName(){return this.$store.state.name},showScore(){return this.$store.state.score}}};const R=(0,o.Z)(K,[["render",H],["__scopeId","data-v-895cc3c4"]]);var Y=R;const q=[{path:"/",name:"start",component:y},{path:"/game",name:"game",component:V},{path:"/result",name:"result",component:Y}],A=(0,l.p7)({history:(0,l.PO)("/vue-target-game/"),routes:q});var J=A,Q=s(65),X=s(70),tt=s(2415);const et=(0,Q.MT)({state:{score:0,name:"",results:[]},getters:{score:t=>t.score,name:t=>t.name,results:t=>t.results},mutations:{updateScore(t){t.score++},playerName(t,e){t.name=e},resultGet(t,e){t.results=e},ranking(t){t.results.sort(((t,e)=>{let s=Number(t.fields.score.integerValue),r=Number(e.fields.score.integerValue);return s<r?1:-1})),this.commit("rankingTopN",5)},rankingTopN(t,e){t.results=t.results.slice(0,e)},reset(t){t.name="",t.score=0}},actions:{statusPost(){X.ZP.post("https://firestore.googleapis.com/v1/projects/target-game-45c90/databases/(default)/documents/results",{fields:{name:{stringValue:this.getters.name},score:{integerValue:this.getters.score}}})},async resultList({commit:t}){await X.ZP.get("https://firestore.googleapis.com/v1/projects/target-game-45c90/databases/(default)/documents/results").then((e=>{t("resultGet",e.data.documents)}))}},plugins:[(0,tt.Z)({key:"resultData",storage:window.sessionStorage})]}),st=(0,r.ri)(c);st.use(J),st.use(et),st.mount("#app")}},e={};function s(r){var a=e[r];if(void 0!==a)return a.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,r,a,n){if(!r){var o=1/0;for(l=0;l<t.length;l++){r=t[l][0],a=t[l][1],n=t[l][2];for(var i=!0,u=0;u<r.length;u++)(!1&n||o>=n)&&Object.keys(s.O).every((function(t){return s.O[t](r[u])}))?r.splice(u--,1):(i=!1,n<o&&(o=n));if(i){t.splice(l--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[r,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,n,o=r[0],i=r[1],u=r[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(u)var l=u(s)}for(e&&e(r);c<o.length;c++)n=o[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(l)},r=self["webpackChunktarget_game"]=self["webpackChunktarget_game"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(6889)}));r=s.O(r)})();
//# sourceMappingURL=app.js.map